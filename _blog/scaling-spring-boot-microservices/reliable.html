{% include_relative reliable.svg %}
<script>
(function() {
  const svg = document.querySelector('#reliable')
  setup();
  anime.timeline({
    autoplay: true,
    loop: true
  })
  // <add item to first worker>
    .add({
    targets: '#reliable-animejs-item6',
    translateX: [270 - (32 * 3), 429],
    translateY: [81 - (18 * 3), 173],
    opacity: [0, 1],
    easing: 'easeInQuad',
  })
  .add({
    targets: '#reliable-animejs-wait1',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-attach1',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-item6',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-item16',
    translateX: [19 - (19 * 3), 114],
    translateY: [33 - (12 * 3), 89],
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-attach1',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run1',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </add item to first worker>
  // <add item to second worker>
  .add({
    targets: '#reliable-animejs-item6',
    translateX: [270 - (32 * 3), 429],
    translateY: [81 - (18 * 3), 173],
    opacity: [0, 1],
    easing: 'easeInQuad',
  })
  .add({
    targets: '#reliable-animejs-wait2',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-attach2',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-item6',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-item26',
    translateX: [19 - (19 * 3), 114],
    translateY: [33 - (12 * 3), 89],
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-attach2',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run2',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </add item to second worker>
  // <add item to third worker>
  .add({
    targets: '#reliable-animejs-item6',
    translateX: [270 - (32 * 3), 429],
    translateY: [81 - (18 * 3), 173],
    opacity: [0, 1],
    easing: 'easeInQuad',
  })
  .add({
    targets: '#reliable-animejs-wait3',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-attach3',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-item6',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-item36',
    translateX: [19 - (19 * 3), 114],
    translateY: [33 - (12 * 3), 89],
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-attach3',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run3',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </add item to third worker>
  // <add two items to the queue>
  .add({
    targets: '#reliable-animejs-item6',
    translateX: [270 - (32 * 3), 429],
    translateY: [81 - (18 * 3), 173],
    opacity: [0, 1],
    easing: 'easeInQuad',
  })
  .add({
    targets: '#reliable-animejs-item5',
    translateX: [270 - (32 * 3), 397],
    translateY: [81 - (18 * 3), 154],
    opacity: [0, 1],
    easing: 'easeInQuad',
  })
  // </add two items to the queue>
  // <completed job1, pull job2 on worker 1>
  .add({
    targets: '#reliable-animejs-item16',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run1',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-attach1',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-item6',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-item16',
    translateX: [19 - (19 * 3), 114],
    translateY: [33 - (12 * 3), 89],
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-item5',
    translateX: [397, 429],
    translateY: [154, 173],
    easing: 'easeInQuad',
  })
  .add({
    targets: '#reliable-animejs-attach1',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run1',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // <completed job1, pull job2 on worker 1>
  // <completed job2, pull job3 on worker 2>
  .add({
    targets: '#reliable-animejs-item26',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run2',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-attach2',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-item5',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-item26',
    translateX: [19 - (19 * 3), 114],
    translateY: [33 - (12 * 3), 89],
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  .add({
    targets: '#reliable-animejs-attach2',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run2',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </completed job2, pull job3 on worker 2>
  // <completed job3, wait on worker 3>
  .add({
    targets: '#reliable-animejs-item36',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run3',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-wait3',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </completed job3, wait on worker 3>
  // <completed, wait on worker 1>
  .add({
    targets: '#reliable-animejs-item16',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run1',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-wait1',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </completed, wait on worker 1>
  // <completed, wait on worker 2>
    .add({
    targets: '#reliable-animejs-item26',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-run2',
    opacity: [1, 0],
    easing: 'easeOutExpo',
  })
  .add({
    targets: '#reliable-animejs-wait2',
    opacity: [0, 1],
    easing: 'easeInExpo',
  })
  // </completed, wait on worker 2>
  function setup() {
    [
      '#reliable-animejs-run1',
      '#reliable-animejs-run2',
      '#reliable-animejs-run3',
      '#reliable-animejs-attach1',
      '#reliable-animejs-attach2',
      '#reliable-animejs-attach3'
    ].forEach(function(selector) {
      var element = document.querySelector(selector);
      if (!!element) element.style.opacity = 0;
    });
  }
})();
</script>